(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages-book/book/book"],{177:function(n,t,e){"use strict";(function(n,t){var o=e(4);e(26);o(e(25));var i=o(e(178));n.__webpack_require_UNI_MP_PLUGIN__=e,t(i.default)}).call(this,e(1)["default"],e(2)["createPage"])},178:function(n,t,e){"use strict";e.r(t);var o=e(179),i=e(181);for(var r in i)["default"].indexOf(r)<0&&function(n){e.d(t,n,(function(){return i[n]}))}(r);var c,u=e(32),s=Object(u["default"])(i["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],c);s.options.__file="pages-book/book/book.vue",t["default"]=s.exports},179:function(n,t,e){"use strict";e.r(t);var o=e(180);e.d(t,"render",(function(){return o["render"]})),e.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),e.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),e.d(t,"components",(function(){return o["components"]}))},180:function(n,t,e){"use strict";var o;e.r(t),e.d(t,"render",(function(){return i})),e.d(t,"staticRenderFns",(function(){return c})),e.d(t,"recyclableRender",(function(){return r})),e.d(t,"components",(function(){return o}));try{o={uniDrawer:function(){return e.e("uni_modules/uni-drawer/components/uni-drawer/uni-drawer").then(e.bind(null,454))},menuItem:function(){return e.e("components/menu-item/menu-item").then(e.bind(null,410))},uniCard:function(){return e.e("components/uni-card/uni-card").then(e.bind(null,351))},mpHtml:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/mp-html/components/mp-html/mp-html")]).then(e.bind(null,370))},testActions:function(){return e.e("components/test-actions/test-actions").then(e.bind(null,383))}}}catch(u){if(-1===u.message.indexOf("Cannot find module")||-1===u.message.indexOf(".vue"))throw u;console.error(u.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var i=function(){var n=this,t=n.$createElement;n._self._c},r=!1,c=[];i._withStripped=!0},181:function(n,t,e){"use strict";e.r(t);var o=e(182),i=e.n(o);for(var r in o)["default"].indexOf(r)<0&&function(n){e.d(t,n,(function(){return o[n]}))}(r);t["default"]=i.a},182:function(n,t,e){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={data:function(){return{book_id:0,activeId:0,menus:[],content:"",current:0}},onLoad:function(n){var t=n.book_id,e=n.id;if(!t||!e)return this.$toast("参数缺失"),void this.back();this.book_id=parseInt(t),this.activeId=parseInt(e),this.getData()},computed:{total:function(){return this.menus.length}},methods:{close:function(){this.$refs.showLeft.close()},open:function(){this.$refs.showLeft.open()},handleOpenLeft:function(){this.open()},onPage:function(n){this.current=n,this.getContent()},back:function(){setTimeout((function(){n.navigateBack({delta:1})}),700)},getData:function(){var t=this;this.$api.getBookDetailContent({book_id:this.book_id,id:this.activeId}).then((function(e){if(t.menus=e.menus,0===t.menus.length)return t.$toast("该电子书没有章节内容"),t.back();var o=t.menus.findIndex((function(n){return n.id===t.activeId}));t.current=o+1,t.content=e.content,n.setNavigationBarTitle({title:e.title}),""==t.content&&(t.content="暂无内容")})).catch((function(e){t.content=e,"请先购买该电子书"==e&&setTimeout((function(){n.navigateBack({delta:1})}),500)}))},changeCurrent:function(n){this.current=n+1,this.getContent(),this.close()},getContent:function(){var n=this.menus[this.current-1];n&&(this.activeId=n.id,this.content="",this.getData())}}};t.default=e}).call(this,e(2)["default"])}},[[177,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages-book/book/book.js.map