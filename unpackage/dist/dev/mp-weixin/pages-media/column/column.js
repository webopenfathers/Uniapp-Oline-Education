(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages-media/column/column"],{119:function(t,n,e){"use strict";(function(t,n){var i=e(4);e(26);i(e(25));var o=i(e(120));t.__webpack_require_UNI_MP_PLUGIN__=e,n(o.default)}).call(this,e(1)["default"],e(2)["createPage"])},120:function(t,n,e){"use strict";e.r(n);var i=e(121),o=e(123);for(var a in o)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(a);var r,u=e(32),c=Object(u["default"])(o["default"],i["render"],i["staticRenderFns"],!1,null,null,null,!1,i["components"],r);c.options.__file="pages-media/column/column.vue",n["default"]=c.exports},121:function(t,n,e){"use strict";e.r(n);var i=e(122);e.d(n,"render",(function(){return i["render"]})),e.d(n,"staticRenderFns",(function(){return i["staticRenderFns"]})),e.d(n,"recyclableRender",(function(){return i["recyclableRender"]})),e.d(n,"components",(function(){return i["components"]}))},122:function(t,n,e){"use strict";var i;e.r(n),e.d(n,"render",(function(){return o})),e.d(n,"staticRenderFns",(function(){return r})),e.d(n,"recyclableRender",(function(){return a})),e.d(n,"components",(function(){return i}));try{i={activeBar:function(){return Promise.all([e.e("common/vendor"),e.e("components/active-bar/active-bar")]).then(e.bind(null,395))},tab:function(){return e.e("components/tab/tab").then(e.bind(null,292))},collectBtn:function(){return e.e("components/collect-btn/collect-btn").then(e.bind(null,400))},uniCard:function(){return e.e("components/uni-card/uni-card").then(e.bind(null,351))},groupWorks:function(){return Promise.all([e.e("common/vendor"),e.e("components/group-works/group-works")]).then(e.bind(null,405))},mpHtml:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/mp-html/components/mp-html/mp-html")]).then(e.bind(null,370))},menuItem:function(){return e.e("components/menu-item/menu-item").then(e.bind(null,410))},mainButton:function(){return e.e("components/main-button/main-button").then(e.bind(null,358))}}}catch(u){if(-1===u.message.indexOf("Cannot find module")||-1===u.message.indexOf(".vue"))throw u;console.error(u.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var t=this,n=t.$createElement,e=(t._self._c,0!==t.current?t.list.length:null),i=0!==t.current?t.__map(t.list,(function(n,e){var i=t.__get_orig(n),o=t._f("formatType")(n.type);return{$orig:i,f0:o}})):null;t._isMounted||(t.e0=function(n){t.detail.isfava=n}),t.$mp.data=Object.assign({},{$root:{g0:e,l0:i}})},a=!1,r=[];o._withStripped=!0},123:function(t,n,e){"use strict";e.r(n);var i=e(124),o=e.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(a);n["default"]=o.a},124:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={media:"图文",audio:"音频",video:"视频",column:"专栏"},i={filters:{formatType:function(t){return e[t]}},data:function(){return{firstLoad:!1,current:0,tabs:[{name:"简介"},{name:"目录"}],detail:{id:0,title:"",cover:"",try:"",price:"",t_price:"",type:"media",sub_count:0,content:"",isbuy:!1,isfava:!1},list:[],group_id:0,activeData:null,flashsale_id:0}},computed:{btn:function(){return this.detail.flashsale?"立即秒杀￥"+this.detail.flashsale.price:this.detail.group?"立即拼团￥"+this.detail.group.price:0==this.detail.price?"立即学习":"立即订购￥"+this.detail.price}},onLoad:function(n){if(this.detail.id=n.id,!this.detail.id)return this.$toast("非法参数"),void setTimeout((function(){t.navigateBack({delta:1})}),700);n.group_id&&(this.group_id=n.group_id),n.flashsale_id&&(this.flashsale_id=n.flashsale_id)},onShow:function(){this.getData()},methods:{submit:function(){var n=this;if(this.group_id)return t.showLoading({title:"发起拼团中...",mask:!1}),void this.$api.createOrder({group_id:this.group_id},"group").then((function(t){$tool.wxpay(t.no,(function(){n.getData()}))})).catch((function(t){console.log(t)})).finally((function(){t.hideLoading()}));if(0==this.detail.price)return t.showLoading({title:"加载中...",mask:!1}),void this.$api.learn({goods_id:this.detail.id,type:"column"}).then((function(t){n.getData()})).finally((function(){t.hideLoading()}));var e="column",i=this.detail.id;this.detail.flashsale&&(e="flashsale",i=this.flashsale_id),this.authJump("/pages-order/create-order/create-order?id=".concat(i,"&type=").concat(e))},openPlay:function(t){if(0!=t.price&&!this.detail.isbuy)return this.$toast("请先购买该专栏");this.authJump("/pages-media/course/course?id=".concat(t.id,"&column_id=").concat(this.detail.id))},clickTab:function(t){this.current=t},getData:function(){var n=this;this.$api.readColumn({id:this.detail.id,group_id:this.group_id,flashsale_id:this.flashsale_id}).then((function(e){n.detail=e,e.group&&(n.activeData={type:"group",data:e.group},n.$refs.groupWorks.int(n.group_id)),e.flashsale&&(n.activeData={type:"flashsale",data:e.flashsale}),n.list=e.column_courses,t.setNavigationBarTitle({title:n.detail.title})})).catch((function(n){"该记录不存在"===n&&setTimeout((function(){t.navigateBack({delta:1})}),700)})).finally((function(){n.firstLoad=!0}))}}};n.default=i}).call(this,e(2)["default"])}},[[119,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages-media/column/column.js.map