import Player from 'xgplayer';
import FlvLiveMsePlayer from './mse'
import FlvLiveMobilePlayer from './mobile'
import { EVENTS } from 'xgplayer-helper-utils'

export default class FlvLivePlayer {
  constructor (config) {
    if (FlvLiveMobilePlayer.isSupported() && config.useWASM) {
      return new FlvLiveMobilePlayer(config)
    } if (FlvLiveMsePlayer.isSupported()) {
      return new FlvLiveMsePlayer(config)
    } else {
      return new Player(config)
    }
  }

  static install (name, plugin) {
    return Player.install(name, plugin)
  }
}

FlvLivePlayer.EVENTS = EVENTS
